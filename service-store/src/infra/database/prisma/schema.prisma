generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Champion {
  id               String   @id @default(uuid())
  championId       String   @unique @map("champion_id")
  name             String
  blueEssencePrice Int      @map("blue_essence_price")
  riotPointsPrice  Int      @map("riot_points_price")
  releasedAt       DateTime @map("released_at")

  @@map("champions")
}

model Transaction {
  id         String              @id @default(uuid())
  itemId     String              @map("item_id")
  userId     String              @map("user_id")
  type       TransactionType
  status     TransactionStatus
  currency   TransactionCurrency
  amount     Int
  createdAt  DateTime?           @default(now()) @map("created_at")
  finishedAt DateTime?           @map("finished_at")

  @@map("transactions")
}

enum TransactionType {
  CHAMPION
  SKIN
  CHROMA
}

enum TransactionStatus {
  PENDING
  VALIDATED_INVENTORY
  VALIDATED_BALANCE
  FAILED_OWNED
  FAILED_BALANCE
  COMPLETED
  REFUNDED
}

enum TransactionCurrency {
  BLUE_ESSENCE
  RIOT_POINTS
}
